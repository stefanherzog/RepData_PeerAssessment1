---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


This project makes use of [RStudio's projects][Rproj] ("*.Rproj").
The folder, in which the .Rproj-file is located in,
is automatically set as the **working directory** by RStudio
when opening the .Rproj-file.
Thus there is no need to explicitly set the working directory.

Clear the workspace.
```{r}
rm(list = ls())
```

Load the packages used in this project (and install them if they are not yet installed).
The custom `load.packages` function takes a character vector of R-packages names.

```{r}
# Define the `load.packages` function
load.packages <- function(packages) {
    for (package in packages) {
        if (!package %in% installed.packages())
            install.packages(package)
        library(package, character.only = TRUE)
    }
}

# Load the packages
load.packages(c("dplyr",
                "readr"))
                
```


## Loading and preprocessing the data

Read the CSV-file using `read_delim` from the `readr`package.

```{r}
dat <- read_delim(file = "activity.zip", 
                  delim = ",",
                  col_types = list(col_integer(),
                                   col_datetime(),
                                   col_integer()))
```

There are **`r format(nrow(dat), big.mark = ",")` observations** 
in this data set, which is **the 
`r ifelse(nrow(dat) == 17568, "same", "not the same")`**
as the 17,568 observations mentioned in the instructions.

The data types of the three variables are:

```{r}
glimpse(dat)
```

These are the six and last six observations, respectively.

```{r}
head(dat)
tail(dat)
```

Here are summary statistics for the three variables.

```{r}
lapply(dat, summary)
```



## What is mean total number of steps taken per day?


### Calculate the total number of steps taken per day

I'm using the `dplyr` package.

```{r}
per_day <- summarize(group_by(dat, date),
                     steps_total = sum(steps, na.rm = FALSE),
                     NAs_prop = mean(is.na(steps)))
```

The stem-and-leaf display below shows that all days have 0% missing values in 
the steps-variable, except for `r sum(per_day$NAs_prop == 1)` days where 
100% of the observations are missing.
In other words, for some reason no data was collected on those 
`r sum(per_day$NAs_prop == 1)` days, but on the other 
`r sum(per_day$NAs_prop == 0)` days, the data is complete.

```{r}
stem(per_day$NAs_prop)
```

Therefore I decided to set `na.rm = FALSE` when summing up the steps per day.
If one were to set `na.rm = TRUE` then on they days were no data is available,
one would get zero steps for that day, which does not make sense 
(i.e., we just did not observe any steps for these days, 
we cannot ascertain that the person walked zero steps on these days).


### Make a histogram of the total number of steps taken each day

```{r}
hist(
    per_day$steps_total, 
    breaks = 50, 
    col = "red",
    xlab = "Steps per day",
    main = "")
```



## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?




[Rproj]: https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects

